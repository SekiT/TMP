!function(){"use strict";
/*! (c) Andrea Giammarchi (ISC) */var t=function(t){/*! (c) Andrea Giammarchi - ISC */var e={};try{e.WeakMap=WeakMap}catch(u){e.WeakMap=function(t,e){var n=e.defineProperty,r=e.hasOwnProperty,i=a.prototype;return i.delete=function(t){return this.has(t)&&delete t[this._]},i.get=function(t){return this.has(t)?t[this._]:void 0},i.has=function(t){return r.call(t,this._)},i.set=function(t,e){return n(t,this._,{configurable:!0,value:e}),this},a;function a(e){n(this,"_",{value:"_@ungap/weakmap"+t++}),e&&e.forEach(o,this)}function o(t){this.set(t[0],t[1])}}(Math.random(),Object)}var n=e.WeakMap,r={};
/*! (c) Andrea Giammarchi - ISC */try{r.WeakSet=WeakSet}catch(u){!function(t,e){var n=i.prototype;function i(){e(this,"_",{value:"_@ungap/weakmap"+t++})}n.add=function(t){return this.has(t)||e(t,this._,{value:!0,configurable:!0}),this},n.has=function(t){return this.hasOwnProperty.call(t,this._)},n.delete=function(t){return this.has(t)&&delete t[this._]},r.WeakSet=i}(Math.random(),Object.defineProperty)}function i(t,e,n,r,i,a){for(var o=("selectedIndex"in e),s=o;r<i;){var l=t(n[r],1);if(e.insertBefore(l,a),o&&s&&l.selected){s=!s;var c=e.selectedIndex;e.selectedIndex=c<0?r:d.call(e.querySelectorAll("option"),l)}r++}}function a(t,e){return t==e}function o(t){return t}function s(t,e,n,r,i,a,o){var s=a-i;if(s<1)return-1;for(;s<=n-e;){for(var l=e,c=i;l<n&&c<a&&o(t[l],r[c]);)l++,c++;if(c===a)return e;e=l+1}return-1}function l(t,e,n,r,i){return n<r?t(e[n],0):0<n?t(e[n-1],-0).nextSibling:i}function c(t,e,n,r){for(;n<r;)h(t(e[n++],-1))}var u=r.WeakSet,d=[].indexOf,p=function(t,e,n){for(var r=1,i=e;r<i;){var a=(r+i)/2>>>0;n<t[a]?i=a:r=1+a}return r},h=function(t){return(t.remove||function(){var t=this.parentNode;t&&t.removeChild(this)}
/*! (c) 2018 Andrea Giammarchi (ISC) */).call(t)};function f(t,e,n,r){for(var u=(r=r||{}).compare||a,d=r.node||o,h=null==r.before?null:d(r.before,0),f=e.length,v=f,m=0,g=n.length,b=0;m<v&&b<g&&u(e[m],n[b]);)m++,b++;for(;m<v&&b<g&&u(e[v-1],n[g-1]);)v--,g--;var x=m===v,y=b===g;if(x&&y)return n;if(x&&b<g)return i(d,t,n,b,g,l(d,e,m,f,h)),n;if(y&&m<v)return c(d,e,m,v),n;var w=v-m,$=g-b,S=-1;if(w<$){if(-1<(S=s(n,b,g,e,m,v,u)))return i(d,t,n,b,S,d(e[m],0)),i(d,t,n,S+w,g,l(d,e,v,f,h)),n}else if($<w&&-1<(S=s(e,m,v,n,b,g,u)))return c(d,e,m,S),c(d,e,S+$,v),n;return w<2||$<2?(i(d,t,n,b,g,d(e[m],0)),c(d,e,m,v)):w==$&&function(t,e,n,r,i,a){for(;r<i&&a(n[r],t[e-1]);)r++,e--;return 0===e}(n,g,e,m,v,u)?i(d,t,n,b,g,l(d,e,v,f,h)):function(t,e,n,r,a,o,s,l,u,d,h,f,v){!function(t,e,n,r,a,o,s,l,u){for(var d=[],p=t.length,h=s,f=0;f<p;)switch(t[f++]){case 0:a++,h++;break;case 1:d.push(r[a]),i(e,n,r,a++,a,h<l?e(o[h],0):u);break;case-1:h++}for(f=0;f<p;)switch(t[f++]){case 0:s++;break;case-1:-1<d.indexOf(o[s])?s++:c(e,o,s++,s)}}(function(t,e,n,r,i,a,o){var s,l,c,u,d,p,h,f=n+a,v=[];t:for(s=0;s<=f;s++){if(50<s)return null;for(h=s-1,d=s?v[s-1]:[0,0],p=v[s]=[],l=-s;l<=s;l+=2){for(c=(u=l===-s||l!==s&&d[h+l-1]<d[h+l+1]?d[h+l+1]:d[h+l-1]+1)-l;u<a&&c<n&&o(r[i+u],t[e+c]);)u++,c++;if(u===a&&c===n)break t;p[s+l]=u}}var m=Array(s/2+f/2),g=m.length-1;for(s=v.length-1;0<=s;s--){for(;0<u&&0<c&&o(r[i+u-1],t[e+c-1]);)m[g--]=0,u--,c--;if(!s)break;h=s-1,d=s?v[s-1]:[0,0],(l=u-c)==-s||l!==s&&d[h+l-1]<d[h+l+1]?(c--,m[g--]=1):(u--,m[g--]=-1)}return m}(n,r,o,s,l,d,f)||function(t,e,n,r,i,a,o,s){var l=0,c=r<s?r:s,u=Array(c++),d=Array(c);d[0]=-1;for(var h=1;h<c;h++)d[h]=o;for(var f=i.slice(a,o),v=e;v<n;v++){var m=f.indexOf(t[v]);if(-1<m){var g=m+a;-1<(l=p(d,c,g))&&(d[l]=g,u[l]={newi:v,oldi:g,prev:u[l-1]})}}for(l=--c,--o;d[l]>o;)--l;c=s+r-l;var b=Array(c),x=u[l];for(--n;x;){for(var y=x.newi,w=x.oldi;y<n;)b[--c]=1,--n;for(;w<o;)b[--c]=-1,--o;b[--c]=0,--n,--o,x=x.prev}for(;e<=n;)b[--c]=1,--n;for(;a<=o;)b[--c]=-1,--o;return b}(n,r,a,o,s,l,u,d),t,e,n,r,s,l,h,v)}(d,t,n,b,g,$,e,m,v,w,f,u,h),n}var v={};
/*! (c) Andrea Giammarchi - ISC */function m(e,n){n=n||{};var r=t.createEvent("CustomEvent");return r.initCustomEvent(e,!!n.bubbles,!!n.cancelable,n.detail),r}v.CustomEvent="function"==typeof CustomEvent?CustomEvent:(m["prototype"]=new m("").constructor.prototype,m);var g=v.CustomEvent,b={};
/*! (c) Andrea Giammarchi - ISC */try{b.Map=Map}catch(u){b.Map=function(){var t=0,e=[],n=[];return{delete:function(i){var a=r(i);return a&&(e.splice(t,1),n.splice(t,1)),a},forEach:function(t,r){e.forEach((function(e,i){t.call(r,n[i],e,this)}),this)},get:function(e){return r(e)?n[t]:void 0},has:function(t){return r(t)},set:function(i,a){return n[r(i)?t:e.push(i)-1]=a,this}};function r(n){return-1<(t=e.indexOf(n))}}}var x=b.Map;function y(){return this}function w(t,e){var n="_"+t+"$";return{get:function(){return this[n]||$(this,n,e.call(this,t))},set:function(t){$(this,n,t)}}}var $=function(t,e,n){return Object.defineProperty(t,e,{configurable:!0,value:"function"==typeof n?function(){return t._wire$=n.apply(this,arguments)}:n})[e]};Object.defineProperties(y.prototype,{ELEMENT_NODE:{value:1},nodeType:{value:-1}});var S,A,N,k,M,E,T={},C={},z=[],I=C.hasOwnProperty,O=0,W={attributes:T,define:function(t,e){t.indexOf("-")<0?(t in C||(O=z.push(t)),C[t]=e):T[t]=e},invoke:function(t,e){for(var n=0;n<O;n++){var r=z[n];if(I.call(t,r))return C[r](t[r],e)}}},R=Array.isArray||(A=(S={}.toString).call([]),function(t){return S.call(t)===A}),L=(N=t,k="fragment",E="content"in _(M="template")?function(t){var e=_(M);return e.innerHTML=t,e.content}:function(t){var e=_(k),n=_(M),r=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(t)){var i=RegExp.$1;n.innerHTML="<table>"+t+"</table>",r=n.querySelectorAll(i)}else n.innerHTML=t,r=n.childNodes;return j(e,r),e},function(t,e){return("svg"===e?function(t){var e=_(k),n=_("div");return n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>",j(e,n.firstChild.childNodes),e}:E)(t)});function j(t,e){for(var n=e.length;n--;)t.appendChild(e[0])}function _(t){return t===k?N.createDocumentFragment():N.createElementNS("http://www.w3.org/1999/xhtml",t)}
/*! (c) Andrea Giammarchi - ISC */var P,D,H,U,F,B,G,V,Z,q=(D="appendChild",H="cloneNode",U="createTextNode",B=(F="importNode")in(P=t),(G=P.createDocumentFragment())[D](P[U]("g")),G[D](P[U]("")),(B?P[F](G,!0):G[H](!0)).childNodes.length<2?function t(e,n){for(var r=e[H](),i=e.childNodes||[],a=i.length,o=0;n&&o<a;o++)r[D](t(i[o],n));return r}:B?P[F]:function(t,e){return t[H](!!e)}),J="".trim||function(){return String(this).replace(/^\s+|\s+/g,"")},K="-"+Math.random().toFixed(6)+"%",Q=!1;try{V=t.createElement("template"),Z="tabindex","content"in V&&(V.innerHTML="<p "+Z+'="'+K+'"></p>',V.content.childNodes[0].getAttribute(Z)==K)||(K="_dt: "+K.slice(1,-1)+";",Q=!0)}catch(u){}var X="\x3c!--"+K+"--\x3e",Y=/^(?:style|textarea)$/i,tt=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,et=" \\f\\n\\r\\t",nt="[^"+et+"\\/>\"'=]+",rt="["+et+"]+"+nt,it="<([A-Za-z]+[A-Za-z0-9:._-]*)((?:",at="(?:\\s*=\\s*(?:'[^']*?'|\"[^\"]*?\"|<[^>]*?>|"+nt.replace("\\/","")+"))?)",ot=new RegExp(it+rt+at+"+)(["+et+"]*/?>)","g"),st=new RegExp(it+rt+at+"*)(["+et+"]*/>)","g"),lt=new RegExp("("+rt+"\\s*=\\s*)(['\"]?)"+X+"\\2","gi");function ct(t,e,n,r){return"<"+e+n.replace(lt,ut)+r}function ut(t,e,n){return e+(n||'"')+K+(n||'"')}function dt(t,e,n){return tt.test(e)?t:"<"+e+n+"></"+e+">"}var pt=Q?function(t,e){var n=e.join(" ");return e.slice.call(t,0).sort((function(t,e){return n.indexOf(t.name)<=n.indexOf(e.name)?-1:1}))}:function(t,e){return e.slice.call(t,0)};function ht(t,e){for(var n=e.length,r=0;r<n;)t=t.childNodes[e[r++]];return t}function ft(e,n,r,i){for(var a=e.attributes,o=[],s=[],l=pt(a,r),c=l.length,u=0;u<c;){var d,p=l[u++],h=p.value===K;if(h||1<(d=p.value.split(X)).length){var f=p.name;if(o.indexOf(f)<0){o.push(f);var v=r.shift().replace(h?/^(?:|[\S\s]*?\s)(\S+?)\s*=\s*('|")?$/:new RegExp("^(?:|[\\S\\s]*?\\s)("+f+")\\s*=\\s*('|\")[\\S\\s]*","i"),"$1"),m=a[v]||a[v.toLowerCase()];if(h)n.push(vt(m,i,v,null));else{for(var g=d.length-2;g--;)r.shift();n.push(vt(m,i,v,d))}}s.push(p)}}for(var b=((u=0)<(c=s.length)&&Q&&!("ownerSVGElement"in e));u<c;){var x=s[u++];b&&(x.value=""),e.removeAttribute(x.name)}var y=e.nodeName;if(/^script$/i.test(y)){var w=t.createElement(y);for(c=a.length,u=0;u<c;)w.setAttributeNode(a[u++].cloneNode(!0));w.textContent=e.textContent,e.parentNode.replaceChild(w,e)}}function vt(t,e,n,r){return{type:"attr",node:t,path:e,name:n,sparse:r}}function mt(t,e){return{type:"text",node:t,path:e}}var gt=new n;function bt(t,e){var n=(t.convert||
/*! (c) Andrea Giammarchi - ISC */
function(t){return t.join(X).replace(st,dt).replace(ot,ct)})(e),r=t.transform;r&&(n=r(n));var i=L(n,t.type);yt(i);var a=[];!function t(e,n,r,i){for(var a=e.childNodes,o=a.length,s=0;s<o;){var l=a[s];switch(l.nodeType){case 1:var c=i.concat(s);ft(l,n,r,c),t(l,n,r,c);break;case 8:var u=l.textContent;if(u===K)r.shift(),n.push(Y.test(e.nodeName)?mt(e,i):{type:"any",node:l,path:i.concat(s)});else switch(u.slice(0,2)){case"/*":if("*/"!==u.slice(-2))break;case"ðŸ‘»":e.removeChild(l),s--,o--}break;case 3:Y.test(e.nodeName)&&J.call(l.textContent)===X&&(r.shift(),n.push(mt(e,i)))}s++}}(i,a,e.slice(0),[]);var o={content:i,updates:function(n){for(var r=[],i=a.length,o=0,s=0;o<i;){var l=a[o++],c=ht(n,l.path);switch(l.type){case"any":r.push({fn:t.any(c,[]),sparse:!1});break;case"attr":var u=l.sparse,d=t.attribute(c,l.name,l.node);null===u?r.push({fn:d,sparse:!1}):(s+=u.length-2,r.push({fn:d,sparse:!0,values:u}));break;case"text":r.push({fn:t.text(c),sparse:!1}),c.textContent=""}}return i+=s,function(){var t=arguments.length;if(i!==t-1)throw new Error(t-1+" values instead of "+i+"\n"+e.join("${value}"));for(var a=1,o=1;a<t;){var s=r[a-o];if(s.sparse){var l=s.values,c=l[0],u=1,d=l.length;for(o+=d-2;u<d;)c+=arguments[a++]+l[u++];s.fn(c)}else s.fn(arguments[a++])}return n}}};return gt.set(e,o),o}var xt=[];function yt(t){for(var e=t.childNodes,n=e.length;n--;){var r=e[n];1!==r.nodeType&&0===J.call(r.textContent).length&&t.removeChild(r)}}
/*! (c) Andrea Giammarchi - ISC */var wt,$t,St=(wt=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,$t=/([^A-Z])([A-Z]+)/g,function(t,e){return"ownerSVGElement"in t?function(t,e){var n;return(n=e?e.cloneNode(!0):(t.setAttribute("style","--hyper:style;"),t.getAttributeNode("style"))).value="",t.setAttributeNode(n),Nt(n,!0)}(t,e):Nt(t.style,!1)});
/*! (c) Andrea Giammarchi - ISC */function At(t,e,n){return e+"-"+n.toLowerCase()}function Nt(t,e){var n,r;return function(i){var a,o,s,l;switch(typeof i){case"object":if(i){if("object"===n){if(!e&&r!==i)for(o in r)o in i||(t[o]="")}else e?t.value="":t.cssText="";for(o in a=e?{}:t,i)s="number"!=typeof(l=i[o])||wt.test(o)?l:l+"px",!e&&/^--/.test(o)?a.setProperty(o,s):a[o]=s;n="object",e?t.value=function(t){var e,n=[];for(e in t)n.push(e.replace($t,At),":",t[e],";");return n.join("")}(r=a):r=i;break}default:r!=i&&(n="string",r=i,e?t.value=i||"":t.cssText=i||"")}}}var kt,Mt,Et=(kt=[].slice,(Mt=Tt.prototype).ELEMENT_NODE=1,Mt.nodeType=111,Mt.remove=function(t){var e=this.childNodes,n=this.firstChild,r=this.lastChild;if(this._=null,t&&2===e.length)r.parentNode.removeChild(r);else{var i=this.ownerDocument.createRange();i.setStartBefore(t?e[1]:n),i.setEndAfter(r),i.deleteContents()}return n},Mt.valueOf=function(t){var e=this._,n=null==e;if(n&&(e=this._=this.ownerDocument.createDocumentFragment()),n||t)for(var r=this.childNodes,i=0,a=r.length;i<a;i++)e.appendChild(r[i]);return e},Tt);function Tt(t){var e=this.childNodes=kt.call(t,0);this.firstChild=e[0],this.lastChild=e[e.length-1],this.ownerDocument=e[0].ownerDocument,this._=null}function Ct(t){return{html:t}}function zt(t,e){switch(t.nodeType){case Ht:return 1/e<0?e?t.remove(!0):t.lastChild:e?t.valueOf(!0):t.firstChild;case Dt:return zt(t.render(),e);default:return t}}function It(t,e){e(t.placeholder),"text"in t?Promise.resolve(t.text).then(String).then(e):"any"in t?Promise.resolve(t.any).then(e):"html"in t?Promise.resolve(t.html).then(Ct).then(e):Promise.resolve(W.invoke(t,e)).then(e)}function Ot(t){return null!=t&&"then"in t}var Wt,Rt,Lt,jt,_t,Pt="ownerSVGElement",Dt=y.prototype.nodeType,Ht=Et.prototype.nodeType,Ut=(Rt=(Wt={Event:g,WeakSet:u}).Event,Lt=Wt.WeakSet,jt=!0,_t=null,function(t){return jt&&(jt=!jt,_t=new Lt,function(t){var e=new Lt,n=new Lt;try{new MutationObserver(o).observe(t,{subtree:!0,childList:!0})}catch(e){var r=0,i=[],a=function(t){i.push(t),clearTimeout(r),r=setTimeout((function(){o(i.splice(r=0,i.length))}),0)};t.addEventListener("DOMNodeRemoved",(function(t){a({addedNodes:[],removedNodes:[t.target]})}),!0),t.addEventListener("DOMNodeInserted",(function(t){a({addedNodes:[t.target],removedNodes:[]})}),!0)}function o(t){for(var r,i=t.length,a=0;a<i;a++)s((r=t[a]).removedNodes,"disconnected",n,e),s(r.addedNodes,"connected",e,n)}function s(t,e,n,r){for(var i,a=new Rt(e),o=t.length,s=0;s<o;1===(i=t[s++]).nodeType&&l(i,a,e,n,r));}function l(t,e,n,r,i){_t.has(t)&&!r.has(t)&&(i.delete(t),r.add(t),t.dispatchEvent(e));for(var a=t.children||[],o=a.length,s=0;s<o;l(a[s++],e,n,r,i));}}(t.ownerDocument)),_t.add(t),t}),Ft=/^(?:form|list)$/i,Bt=[].slice;function Gt(e){return this.type=e,function(e){var n=xt,r=yt;return function(i){var a,o,s;return n!==i&&(a=e,o=n=i,s=gt.get(o)||bt(a,o),r=s.updates(q.call(t,s.content,!0))),r.apply(null,arguments)}}(this)}var Vt=!(Gt.prototype={attribute:function(t,e,n){var r,i=Pt in t;if("style"===e)return St(t,n,i);if(/^on/.test(e)){var a=e.slice(2);return"connected"===a||"disconnected"===a?Ut(t):e.toLowerCase()in t&&(a=a.toLowerCase()),function(e){r!==e&&(r&&t.removeEventListener(a,r,!1),(r=e)&&t.addEventListener(a,e,!1))}}if("data"===e||!i&&e in t&&!Ft.test(e))return function(n){r!==n&&(r=n,t[e]!==n&&null==n?(t[e]="",t.removeAttribute(e)):t[e]=n)};if(e in W.attributes)return function(n){var i=W.attributes[e](t,n);r!==i&&(null==(r=i)?t.removeAttribute(e):t.setAttribute(e,i))};var o=!1,s=n.cloneNode(!0);return function(e){r!==e&&(r=e,s.value!==e&&(null==e?(o&&(o=!1,t.removeAttributeNode(s)),s.value=e):(s.value=e,o||(o=!0,t.setAttributeNode(s)))))}},any:function(t,e){var n,r={node:zt,before:t},i=Pt in t?"svg":"html",a=!1;return function o(s){switch(typeof s){case"string":case"number":case"boolean":a?n!==s&&(n=s,e[0].textContent=s):(a=!0,n=s,e=f(t.parentNode,e,[(l=s,t.ownerDocument.createTextNode(l))],r));break;case"function":o(s(t));break;case"object":case"undefined":if(null==s){a=!1,e=f(t.parentNode,e,[],r);break}default:if(a=!1,R(n=s))if(0===s.length)e.length&&(e=f(t.parentNode,e,[],r));else switch(typeof s[0]){case"string":case"number":case"boolean":o({html:s});break;case"object":if(R(s[0])&&(s=s.concat.apply([],s)),Ot(s[0])){Promise.all(s).then(o);break}default:e=f(t.parentNode,e,s,r)}else"ELEMENT_NODE"in s?e=f(t.parentNode,e,11===s.nodeType?Bt.call(s.childNodes):[s],r):Ot(s)?s.then(o):"placeholder"in s?It(s,o):"text"in s?o(String(s.text)):"any"in s?o(s.any):"html"in s?e=f(t.parentNode,e,Bt.call(L([].concat(s.html).join(""),i).childNodes),r):o("length"in s?Bt.call(s):W.invoke(s,o))}var l}},text:function(t){var e;return function n(r){if(e!==r){var i=typeof(e=r);"object"==i&&r?Ot(r)?r.then(n):"placeholder"in r?It(r,n):n("text"in r?String(r.text):"any"in r?r.any:"html"in r?[].concat(r.html).join(""):"length"in r?Bt.call(r).join(""):W.invoke(r,n)):"function"==i?n(r(t)):t.textContent=null==r?"":r}}}}),Zt=function(e){var r,i=(r=(t.defaultView.navigator||{}).userAgent,/(Firefox|Safari)\/(\d+)/.test(r)&&!/(Chrom[eium]+|Android)\/(\d+)/.test(r)),a=!("raw"in e)||e.propertyIsEnumerable("raw")||!Object.isFrozen(e.raw);if(i||a){var o={},s=function(t){for(var e=".",n=0;n<t.length;n++)e+=t[n].length+"."+t[n];return o[e]||(o[e]=t)};if(a)Zt=s;else{var l=new n;Zt=function(t){return l.get(t)||(n=s(e=t),l.set(e,n),n);var e,n}}}else Vt=!0;return qt(e)};function qt(t){return Vt?t:Zt(t)}function Jt(t){for(var e=arguments.length,n=[qt(t)],r=1;r<e;)n.push(arguments[r++]);return n}var Kt=new n,Qt=function(t){var e,n,r;return function(){var i=Jt.apply(null,arguments);return r!==i[0]?(r=i[0],n=new Gt(t),e=Yt(n.apply(n,i))):n.apply(n,i),e}},Xt=function(t,e){var n=e.indexOf(":"),r=Kt.get(t),i=e;return-1<n&&(i=e.slice(n+1),e=e.slice(0,n)||"html"),r||Kt.set(t,r={}),r[i]||(r[i]=Qt(e))},Yt=function(t){var e=t.childNodes,n=e.length;return 1===n?e[0]:n?new Et(e):t},te=new n;function ee(){var t=te.get(this),e=Jt.apply(null,arguments);return t&&t.template===e[0]?t.tagger.apply(null,e):function(t){var e=new Gt(Pt in this?"svg":"html");te.set(this,{tagger:e,template:t}),this.textContent="",this.appendChild(e.apply(null,arguments))}
/*! (c) Andrea Giammarchi (ISC) */.apply(this,e),this}var ne,re,ie,ae,oe=W.define,se=Gt.prototype;function le(t){return arguments.length<2?null==t?Qt("html"):"string"==typeof t?le.wire(null,t):"raw"in t?Qt("html")(t):"nodeType"in t?le.bind(t):Xt(t,"html"):("raw"in t?Qt("html"):le.wire).apply(null,arguments)}return le.Component=y,le.bind=function(t){return ee.bind(t)},le.define=oe,le.diff=f,(le.hyper=le).observe=Ut,le.tagger=se,le.wire=function(t,e){return null==t?Qt(e||"html"):Xt(t,e||"html")},le._={WeakMap:n,WeakSet:u},ne=Qt,re=new n,ie=Object.create,ae=function(t,e){var n={w:null,p:null};return e.set(t,n),n},Object.defineProperties(y,{for:{configurable:!0,value:function(t,e){return function(t,e,r,i){var a,o,s,l=e.get(t)||ae(t,e);switch(typeof i){case"object":case"function":var c=l.w||(l.w=new n);return c.get(i)||(a=c,o=i,s=new t(r),a.set(o,s),s);default:var u=l.p||(l.p=ie(null));return u[i]||(u[i]=new t(r))}}(this,re.get(t)||(r=t,i=new x,re.set(r,i),i),t,null==e?"default":e);var r,i}}}),Object.defineProperties(y.prototype,{handleEvent:{value:function(t){var e=t.currentTarget;this["getAttribute"in e&&e.getAttribute("data-call")||"on"+t.type](t)}},html:w("html",ne),svg:w("svg",ne),state:w("state",(function(){return this.defaultState})),defaultState:{get:function(){return{}}},dispatch:{value:function(t,e){var n=this._wire$;if(n){var r=new g(t,{bubbles:!0,cancelable:!0,detail:e});return r.component=this,(n.dispatchEvent?n:n.firstChild).dispatchEvent(r)}return!1}},setState:{value:function(t,e){var n=this.state,r="function"==typeof t?t.call(this,n):t;for(var i in r)n[i]=r[i];return!1!==e&&this.render(),this}}}),le}(document);const{Component:e,bind:n,define:r,diff:i,hyper:a,wire:o}=t;var s={hyperhtml:{bind:n,wire:o},globals:{now:Date.now,window:window,setTimeout:setTimeout,random:Math.random}};const{now:l,setTimeout:c}=s.globals,u=(t,e)=>{const n=l(),r=t();c(()=>{const t=l()<n+1e3/60?e+1:Math.max(e-1,1);u(r,t)},e)};var d=t=>{let e=t;const n=new Map;return{next:t=>{e=t(e),n.forEach(t=>t(e))},subscribe:t=>{t(e);const r={};return n.set(r,t),r},unsubscribe:t=>n.delete(t)}};const{random:p}=s.globals,h=()=>[...Array(10)].map(()=>Math.round(p())),f=d(h()),{window:v}=s.globals,m=()=>({width:v.innerWidth,height:v.innerHeight}),g=d(m());v.addEventListener("resize",()=>g.next(m));const{wire:b}=s.hyperhtml;var x=(t,e)=>{const n=e(b({}));let r=t;return{render:()=>n(r),update:t=>{r={...r,...t(r)},n(r)}}};const{wire:y}=s.hyperhtml;var w=()=>{const t={tape:h(),style:{},cellWidth:0},e=t.tape.map(()=>y({}));return x(t,t=>({tape:n,style:r,cellWidth:i})=>{const a={width:`${10*i}px`,height:`${i}px`,...r};return t`<div style=${a}>${n.map((t,n)=>{const r=255*t,a=255-r,o={display:"inline-block",width:`${i}px`,height:`${i}px`,lineHeight:`${i}px`,fontSize:`${i}px`,textAlign:"center",backgroundColor:`rgb(${r},${r},${r})`,color:`rgb(${a},${a},${a})`};return e[n]`<div style=${o}>${t<.5?0:1}</div>`})}</div>`})};const $=w(),S=x({position:0},t=>({position:e,cellWidth:n})=>{const r={position:"absolute",top:"30%",left:"50%",transform:`translate(${n*(-.5-e)}px, 0)`};return $.update(()=>({cellWidth:n})),t`<div style=${r}>${$.render()}</div>`});g.subscribe(({width:t,height:e})=>{const n=Math.min(.15*t,.3*e);S.update(()=>({cellWidth:n}))}),f.subscribe(t=>$.update(()=>({tape:t})));const A=x({state:0,cellWidth:0},t=>({state:e,cellWidth:n})=>{const r=n/16,i={position:"absolute",top:"30%",left:"50%",transform:`translate(-${n/2+r}px, 0)`},a={position:"absolute",height:`${n}px`,background:"radial-gradient(#aaa, #666)"},o={...a,width:`${2*r}px`,borderRadius:`${r}px ${r}px 0 0`},s={...a,top:`${n}px`,width:`${n+2*r}px`,borderRadius:`0 0 ${r}px ${r}px`,fontSize:.8*n,lineHeight:`${n}px`,textAlign:"center",color:"white"};return t`<div style=${i}>
    <div style=${o} />
    <div style=${{...o,left:n}} />
    <div style=${s}>${(t=>"E01234AH"[t+1])(e)}</div>
  </div>`});g.subscribe(({width:t,height:e})=>{const n=Math.min(.15*t,.3*e);A.update(()=>({cellWidth:n}))});const N=w(),k=w(),M=t=>N.update(()=>({tape:t})),E={position:"absolute",top:"3%",width:"100%",fontFamily:"serif",color:"white"},T=x({fontSize:10},t=>({fontSize:e})=>t`<div style=${E}>
  <table style=${(t=>({margin:"0 auto",fontSize:`${t}px`,lineHeight:`${t}px`}))(e)}>
    <tr><td>ORDER:</td><td>${N.render()}</td></tr>
    <tr><td>TAPE:</td><td>${k.render()}</td></tr>
  </table>
</div>`);g.subscribe(({width:t,height:e})=>{const n=Math.min(.05*t,.07*e);T.update(()=>({fontSize:.6*n})),N.update(()=>({cellWidth:n})),k.update(()=>({cellWidth:n}))}),f.subscribe(t=>k.update(()=>({tape:t})));const C=t=>[...t.toString()].reduceRight(([t,e],n)=>3===t.length?[n,`,${t}${e}`]:[`${n}${t}`,e],["",""]).join``,z=t=>(100*t|0).toString().padStart(4,"0").replace(/^(..)(..)/,"$1.$2"),I=x({number:1,timeLeft:0,score:0,fontSize:0},t=>({number:e,timeLeft:n,score:r,fontSize:i})=>t`
  <div style=${(t=>({position:"absolute",top:"1%",left:"1%",fontSize:`${t}px`,color:"white",fontFamily:"serif"}))(i)}>No.${e}<br>${z(n)}</div>
  <div style=${(t=>({position:"absolute",bottom:"1%",left:"1%",fontSize:`${t}px`,color:"white",fontFamily:"serif"}))(i)}>Score: ${C(r)}</div>
`);g.subscribe(({width:t,height:e})=>{I.update(()=>({fontSize:.6*Math.min(.05*t,.07*e)}))});const O=[...Array(10)].map((t,e)=>({direction:1,nextChar:1&e,nextState:e>>1})),W=d(O),R=(t,e)=>W.next(n=>[...n.slice(0,t),e(n[t]),...n.slice(t+1)]),L=d([]),j=t=>L.next(e=>[...e,t]),_=()=>{let t;return L.next(([e,...n])=>(t=e,n)),t},P={},D={},H={},U={},F={},B={display:"inline-block",margin:"1% 1%",textAlign:"center",whiteSpace:"nowrap"},G=["0","1","2","3","4","A"];var V=t=>{return x({state0:e=t>>1,char0:n=0&t,direction:1,char1:n,state1:e,disabled:!1},e=>({state0:n,char0:r,direction:i,char1:a,state1:o,disabled:s})=>e`<div style=${B}>${`<${n},${r},`}<button onclick=${((t,e)=>()=>{R(t,t=>({...t,direction:-e}))})(t,i)} disabled=${s}>${(t=>t<0?"L":"R")(i)}</button>${","}<button onclick=${((t,e)=>()=>{R(t,t=>({...t,nextChar:1-e}))})(t,a)} disabled=${s}>${a}</button>${","}<button onclick=${((t,e)=>()=>{R(t,t=>({...t,nextState:(e+1)%6}))})(t,o)} disabled=${s}>${G[o]}</button>${">"}</div>`);var e,n};const Z=[...Array(10)].map((t,e)=>V(e)),q={marginBottom:"10px"},J=x({fontSize:0,style:{display:"none"},disabled:!0},(({onClickRunButton:t})=>e=>({fontSize:n,style:r,disabled:i})=>(Z.forEach(t=>t.update(()=>({disabled:i}))),e`<div style=${((t,e)=>({position:"absolute",top:"29%",left:"50%",transform:"translate(-50%, 0)",width:20*t,padding:"5px 0 10px 0",textAlign:"center",fontSize:`${t}px`,lineHeight:`${t}px`,border:"1px solid #999",backgroundColor:"rgba(51, 51, 153, 0.8)",color:"white",fontFamily:"Courier New",...e}))(n,r)}>
    <span style=${q}>Program</span>
    <div>${Z.map(t=>t.render())}</div>
    <button
      style=${(t=>{const e=`${1.3*t}px`;return{height:e,marginTop:"0.1em",padding:"0 1em",fontSize:e,lineHeight:e,borderRadius:`${.15*t}px`}})(n)}
      disabled=${i}
      onclick=${t}>RUN</button>
  </div>`))({onClickRunButton:()=>{j(U),J.update(()=>({disabled:!0}))}}));g.subscribe(({width:t,height:e})=>{J.update(()=>({fontSize:Math.min(.04*t,.06*e)}))}),W.subscribe(t=>{t.forEach(({direction:t,nextChar:e,nextState:n},r)=>Z[r].update(()=>({state0:r>>1,char0:1&r,direction:t,char1:e,state1:n})))});const K={display:"table-cell",position:"absolute",top:"19%",width:"100%",height:"10%",textAlign:"center",verticalAlign:"middle",fontFamily:"Courier New"},Q=(t,e)=>({margin:`${(e-t)/2}px 0.5em`,width:`${5*t}px`,height:`${t}px`,fontSize:`${t}px`,borderRadius:.15*t}),X=()=>j(P),Y=()=>j(D),tt=()=>j(H),et=x({running:!1,disabled:!0,fontSize:0,height:0},t=>({running:e,disabled:n,fontSize:r,height:i})=>t`<div style=${K}>
  <button
    style=${Q(r,i)}
    onclick=${e?Y:X}
    disabled=${n}>${e?"HALT":"RESET"}</button>
  <button
    style=${Q(r,i)}
    onclick=${tt}
    disabled=${n||e}>PASS</button>
</div>`);g.subscribe(({width:t,height:e})=>{et.update(()=>({fontSize:Math.min(.05*t,.065*e),height:.1*e}))});const nt=()=>j(F);var rt=x({opacity:0},t=>({opacity:e})=>t`<div style=${(t=>({display:0===t?"none":"block",position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:t}))(e)} onclick=${nt}></div>`);const it={pass:{},solved:{},timeup:{}},at={type:it.pass,commandsSaved:0,accepted:!1,steps:0,timeLeft:0,opacity:0,fontSize:0},ot=new Map([[it.pass,"#ccc"],[it.solved,"#cfc"],[it.timeup,"#ccf"]]),st=new Map([[it.pass,"Pass"],[it.solved,"Solved!"],[it.timeup,"Time's up."]]),lt=(t,e,n,r)=>100*(t+(e?1:0))*n*.1*(r/32)*3|0,ct=x(at,t=>({type:e,commandsSaved:n,accepted:r,steps:i,timeLeft:a,opacity:o,fontSize:s})=>t`<div style=${(t=>({display:0===t?"none":"block",position:"absolute",top:"10%",width:"100%",textAlign:"center",color:"white",opacity:t,filter:"drop-shadow(0 0 0.3rem black)"}))(o)}>
  <div style=${((t,e)=>({color:ot.get(t),fontSize:`${e}px`}))(e,1.3*s)}>${st.get(e)}</div>
  <table style=${(t=>({display:"inline-block",margin:`${t}px 0`,fontSize:`${t}px`,color:"white"}))(s)}>
    <tr>
      <td>Saved + accepted</td>
      <td />
      <td>Steps</td>
      <td />
      <td>Time left</td>
    </tr>
    <tr>
      <td>((${n} + ${r?1:0}) &times; 100)</td>
      <td>&times;</td>
      <td>(${i} &times; 0.1)</td>
      <td>&times;</td>
      <td>(${z(a)} / ${32}.00 &times; 3)</td>
    </tr>
  </table>
  <div style=${(t=>({fontSize:t}))(s)}>Score: +${C(lt(n,r,i,a))}</div>
</div>`);g.subscribe(({width:t,height:e})=>{ct.update(()=>({fontSize:Math.min(.04*t,.06*e)}))});const ut={finished:!1,order:Array(10).fill(0),tape:Array(10).fill(0),score:0,opacity:0,fontSize:0},dt=w(),pt=w(),ht={display:"inline-block"};[dt,pt].forEach(t=>t.update(()=>({style:ht})));const ft=x(ut,t=>({finished:e,caseNumber:n,order:r,tape:i,score:a,opacity:o,fontSize:s})=>(dt.update(()=>({tape:r,cellWidth:s})),pt.update(()=>({tape:i,cellWidth:s})),t`<div style=${((t,e)=>({display:0===t?"none":"block",position:"absolute",top:"10%",width:"100%",fontSize:`${e}px`,lineHeight:`${e}px`,textAlign:"center",color:"white",opacity:t,filter:"drop-shadow(0 0 0.3rem black)"}))(o,s)}>
    <div style=${((t,e)=>({marginBottom:`${e}px`,fontSize:`${e}px`,color:t?"#fc9":"#c99"}))(e,1.3*s)}>${e?"Finished!":"Game Over"}</div>
    <div style=${{display:e?"none":"block"}}>${e?"":`at No.${n}`}</div>
    ${e?"":dt.render()}<br>${e?"":pt.render()}<br>
    <div style=${(t=>({fontSize:`${t}px`,marginTop:`${t}px`}))(s)}>Total score: ${C(a)}</div>
  </div>`));g.subscribe(({width:t,height:e})=>{ft.update(()=>({fontSize:Math.min(.04*t,.06*e)}))});const vt=x({opacity:0,fontSize:0},t=>({opacity:e,fontSize:n})=>t`<div style=${(t=>({display:0===t?"none":"block",position:"absolute",width:"100%",top:"30%",textAlign:"center",color:"white",opacity:t}))(e)}>
    <div style=${(t=>({fontSize:`${t}px`,color:"orange"}))(n)}>TMP</div>
  </div>`);g.subscribe(({width:t,height:e})=>{vt.update(()=>({fontSize:3*Math.min(.04*t,.6*e)}))});var mt={title:{title:{}},main:{programWindowOpening:{},programming:{},programWindowClosing:{},running:{}},result:{caseResult:{},totalResult:{}}};const{now:gt}=s.globals,bt=({startedAt:t})=>{const e=Math.max(32-(gt()-t)/1e3,0);I.update(()=>({timeLeft:e}))},xt=(t,e)=>{const n=e-t,r=.2*n;return 1/15<Math.abs(r)?t+r:t+Math.min(Math.max(-1/15,n),1/15)},yt=({currentTape:t,position:e})=>{var n;n=t,f.next(t=>t.map((t,e)=>{const r=n[e];return t===r?t:Math.min(Math.max(t-1/15,r),t+1/15)})),S.update(({position:t})=>({position:xt(t,e)}))},wt=(t,e)=>{const n=Math.max(50*(1-t/20),0),r=Math.min(50*(1+t/20),100),i=Math.min(87*Math.max((t-30)/10,0)+13,100),a=`polygon(${n}% 0, ${r}% 0, ${r}% ${i}%, ${n}% ${i}%)`;J.update(()=>({style:{clipPath:a},disabled:e}))},{now:$t,random:St}=s.globals;var At=(t=0,e=0)=>({currentTape:n,position:r,machineState:i})=>{if(0===t){const t=h();return M(t),I.update(()=>({number:1,timeLeft:32,score:0})),rt.update(()=>({opacity:1})),{nextId:mt.title.title,nextArgs:[1],stateUpdate:{position:0,machineState:0,order:t,currentTape:h()}}}if(yt({currentTape:n,position:r}),A.update(()=>({state:i})),t<30)return vt.update(()=>({opacity:t/30})),{nextId:mt.title.title,nextArgs:[t+1]};if(30===t)return{nextId:mt.title.title,nextArgs:[_()===F?31:30,(e+1)%30],stateUpdate:0===e?{currentTape:[...n.slice(0,r),Math.round(St()),...n.slice(r+1,10)],position:{0:1,9:8}[r]||r+(St()<.5?-1:1),machineState:Math.floor(5*St())}:{}};if(t<50){const e=(50-t)/20;return vt.update(()=>({opacity:e})),rt.update(()=>({opacity:e})),{nextId:mt.title.title,nextArgs:[t+1]}}vt.update(()=>({opacity:0})),rt.update(()=>({opacity:0})),W.next(()=>O);const a=h();return{nextId:mt.main.programWindowOpening,nextArgs:[0],stateUpdate:{caseNumber:1,score:0,order:h(),originalTape:a,currentTape:a,position:0,machinState:0,executedIndices:new Map,startedAt:$t()}}};const{now:Nt}=s.globals,kt=(t,e,n)=>({type:t,time:0,accepted:e,timeLeft:n}),Mt=(t,e)=>(6*t+e)/7|0,{now:Et}=s.globals,Tt=(t,e)=>Math.max(32-(t-e)/1e3,0);let Ct=O;W.subscribe(t=>{Ct=t});const zt=({currentTape:t,position:e,machineState:n,steps:r,executedIndices:i})=>{const a=n<<1|t[e],{direction:o,nextChar:s,nextState:l}=Ct[a];return{currentTape:[...t.slice(0,e),s,...t.slice(e+1)],position:e+o,machineState:l,steps:r+1,executedIndices:new Set([...i,a])}},{now:It}=s.globals,Ot=new Map([[mt.title.title,At],[mt.main.programWindowOpening,t=>e=>{M(e.order);const n=t<45;return wt(t,n),yt(e),et.update(()=>({running:!1,disabled:n})),bt(e),n?{nextId:mt.main.programWindowOpening,nextArgs:[t+1]}:{nextId:mt.main.programming,nextArgs:[]}}],[mt.main.programming,()=>t=>{yt(t),bt(t);const e=_();return e===U?(A.update(()=>({state:0})),{nextId:mt.main.programWindowClosing,nextArgs:[45],stateUpdate:{currentTape:t.originalTape,machineState:0,position:0,runAt:Et()}}):(e===P&&W.next(()=>O),e===H?{nextId:mt.result.caseResult,nextArgs:[kt(it.pass,!1,Tt(Et(),t.startedAt))],stateUpdate:{steps:0}}:{nextId:mt.main.programming,nextArgs:[],stateUpdate:e===P?{currentTape:t.originalTape,machineState:0,position:0}:{}})}],[mt.main.programWindowClosing,t=>e=>(wt(t,!0),yt(e),et.update(()=>({running:0===t,disabled:t>0})),0===t?{nextId:mt.main.running,nextArgs:[0],stateUpdate:{steps:0,executedIndices:new Set}}:{nextId:mt.main.programWindowClosing,nextArgs:[t-1]})],[mt.main.running,t=>e=>{const{position:n,machineState:r,startedAt:i,runAt:a,order:o,currentTape:s}=e;if(_()===D)return A.update(()=>({state:6})),Tt(Et(),i)>0?{nextId:mt.main.programWindowOpening,nextArgs:[0]}:{nextId:mt.result.totalResult,nextArgs:[!1,0]};yt(e);const l=n<0||n>=10?-1:r;if([-1,5].includes(l)&&30===t){if(A.update(()=>({state:l})),o.join``===s.join``){const t=Tt(a,i),e=t>0?it.solved:it.timeup;return{nextId:mt.result.caseResult,nextArgs:[kt(e,5===l,t)]}}return Tt(Et(),i)>0?{nextId:mt.main.programWindowOpening,nextArgs:[0],stateUpdate:{machineState:l}}:{nextId:mt.result.totalResult,nextArgs:[!1,0]}}return A.update(()=>({state:r})),{nextId:mt.main.running,nextArgs:[30===t?0:t+1],stateUpdate:0===t?zt(e):{}}}],[mt.result.caseResult,t=>({executedIndices:e,steps:n,caseNumber:r,score:i})=>{const{time:a,type:o,accepted:s,timeLeft:l}=t;rt.update(()=>({opacity:Math.min(a/10,1)})),ct.update(()=>({opacity:Math.min(Math.max(0,(a-10)/30),1)})),0===a&&ct.update(()=>({type:o,commandsSaved:10-e.size,accepted:s,steps:n,timeLeft:l})),I.update(({score:t})=>({score:40===a?i:Mt(t,i)}));const c=_();if(a>=40&&c===F){if(ct.update(()=>({opacity:0})),32===r)return{nextId:mt.result.totalResult,nextArgs:[!0,0]};const t=r+1;I.update(()=>({number:t}));const e=h();return rt.update(()=>({opacity:0})),W.next(()=>O),A.update(()=>({state:0})),{nextId:mt.main.programWindowOpening,nextArgs:[0],stateUpdate:{caseNumber:t,order:h(),originalTape:e,currentTape:e,position:0,machineState:0,executedIndices:new Map,startedAt:Nt()}}}return{nextId:mt.result.caseResult,nextArgs:[{...t,time:a+1}],stateUpdate:0===a?{score:i+lt(10-e.size,s,n,l)}:{}}}],[mt.result.totalResult,(t,e)=>({order:n,originalTape:r,score:i,caseNumber:a})=>{const o=_();return e<=40?(rt.update(()=>({opacity:Math.min(e/10,1)})),ft.update(()=>({opacity:Math.max(0,(e-10)/30),finished:t,score:i,caseNumber:a,order:n,tape:r})),{nextId:mt.result.totalResult,nextArgs:[t,e+1]}):41===e?{nextId:mt.result.totalResult,nextArgs:[t,o===F?42:41]}:e<=61?(ft.update(()=>({opacity:(61-e)/20})),{nextId:mt.result.totalResult,nextArgs:[t,e+1]}):{nextId:mt.title.title,nextArgs:[0]}}]]),Wt=(t,e)=>()=>{const{nextId:n,nextArgs:r,stateUpdate:i}=t(e);return Wt(Ot.get(n)(...r),{...e,...i})},{bind:Rt}=s.hyperhtml;var Lt,jt;Rt(document.getElementById("root"))`${[I,T,S,A,et,J,rt,ct,ft,vt].map(t=>t.render())}`,u(Wt(At(0),(Lt=h(),jt=h(),{score:0,caseNumber:1,order:Lt,originalTape:jt,currentTape:jt,position:0,machineState:0,startedAt:It(),runAt:null,steps:0,executedIndices:new Set})),1e3/60)}();
