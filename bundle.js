!function(){"use strict";
/*! (c) Andrea Giammarchi (ISC) */var t=function(t){/*! (c) Andrea Giammarchi - ISC */var e={};try{e.WeakMap=WeakMap}catch(i){e.WeakMap=function(t,e){var n=e.defineProperty,r=e.hasOwnProperty,i=a.prototype;return i.delete=function(t){return this.has(t)&&delete t[this._]},i.get=function(t){return this.has(t)?t[this._]:void 0},i.has=function(t){return r.call(t,this._)},i.set=function(t,e){return n(t,this._,{configurable:!0,value:e}),this},a;function a(e){n(this,"_",{value:"_@ungap/weakmap"+t++}),e&&e.forEach(o,this)}function o(t){this.set(t[0],t[1])}}(Math.random(),Object)}var n=e.WeakMap,r={};
/*! (c) Andrea Giammarchi - ISC */try{r.WeakSet=WeakSet}catch(i){!function(t,e){var n=i.prototype;function i(){e(this,"_",{value:"_@ungap/weakmap"+t++})}n.add=function(t){return this.has(t)||e(t,this._,{value:!0,configurable:!0}),this},n.has=function(t){return this.hasOwnProperty.call(t,this._)},n.delete=function(t){return this.has(t)&&delete t[this._]},r.WeakSet=i}(Math.random(),Object.defineProperty)}var i=r.WeakSet,a={};
/*! (c) Andrea Giammarchi - ISC */try{a.Map=Map}catch(i){a.Map=function(){var t=0,e=[],n=[];return{delete:function(i){var a=r(i);return a&&(e.splice(t,1),n.splice(t,1)),a},forEach:function(t,r){e.forEach((function(e,i){t.call(r,n[i],e,this)}),this)},get:function(e){return r(e)?n[t]:void 0},has:function(t){return r(t)},set:function(i,a){return n[r(i)?t:e.push(i)-1]=a,this}};function r(n){return-1<(t=e.indexOf(n))}}}function o(t,e,n,r,i,a){for(var o=("selectedIndex"in e),s=o;r<i;){var l=t(n[r],1);if(e.insertBefore(l,a),o&&s&&l.selected){s=!s;var c=e.selectedIndex;e.selectedIndex=c<0?r:h.call(e.querySelectorAll("option"),l)}r++}}function s(t,e){return t==e}function l(t){return t}function c(t,e,n,r,i,a,o){var s=a-i;if(s<1)return-1;for(;s<=n-e;){for(var l=e,c=i;l<n&&c<a&&o(t[l],r[c]);)l++,c++;if(c===a)return e;e=l+1}return-1}function u(t,e,n,r,i){return n<r?t(e[n],0):0<n?t(e[n-1],-0).nextSibling:i}function d(t,e,n,r){for(;n<r;)m(t(e[n++],-1))}var p=a.Map,h=[].indexOf,f=function(t,e,n){for(var r=1,i=e;r<i;){var a=(r+i)/2>>>0;n<t[a]?i=a:r=1+a}return r},m=function(t){return(t.remove||function(){var t=this.parentNode;t&&t.removeChild(this)}
/*! (c) 2018 Andrea Giammarchi (ISC) */).call(t)};function v(t,e,n,r){for(var i=(r=r||{}).compare||s,a=r.node||l,h=null==r.before?null:a(r.before,0),m=e.length,v=m,g=0,b=n.length,y=0;g<v&&y<b&&i(e[g],n[y]);)g++,y++;for(;g<v&&y<b&&i(e[v-1],n[b-1]);)v--,b--;var x=g===v,w=y===b;if(x&&w)return n;if(x&&y<b)return o(a,t,n,y,b,u(a,e,g,m,h)),n;if(w&&g<v)return d(a,e,g,v),n;var $=v-g,S=b-y,A=-1;if($<S){if(-1<(A=c(n,y,b,e,g,v,i)))return o(a,t,n,y,A,a(e[g],0)),o(a,t,n,A+$,b,u(a,e,v,m,h)),n}else if(S<$&&-1<(A=c(e,g,v,n,y,b,i)))return d(a,e,g,A),d(a,e,A+S,v),n;return $<2||S<2?(o(a,t,n,y,b,a(e[g],0)),d(a,e,g,v)):$==S&&function(t,e,n,r,i,a){for(;r<i&&a(n[r],t[e-1]);)r++,e--;return 0===e}(n,b,e,g,v,i)?o(a,t,n,y,b,u(a,e,v,m,h)):function(t,e,n,r,i,a,s,l,c,u,h,m,v){!function(t,e,n,r,i,a,s,l,c){for(var u=new p,h=t.length,f=s,m=0;m<h;)switch(t[m++]){case 0:i++,f++;break;case 1:u.set(r[i],1),o(e,n,r,i++,i,f<l?e(a[f],0):c);break;case-1:f++}for(m=0;m<h;)switch(t[m++]){case 0:s++;break;case-1:u.has(a[s])?s++:d(e,a,s++,s)}}(function(t,e,n,r,i,a,o){var s,l,c,u,d,p,h,f=n+a,m=[];t:for(s=0;s<=f;s++){if(50<s)return null;for(h=s-1,d=s?m[s-1]:[0,0],p=m[s]=[],l=-s;l<=s;l+=2){for(c=(u=l===-s||l!==s&&d[h+l-1]<d[h+l+1]?d[h+l+1]:d[h+l-1]+1)-l;u<a&&c<n&&o(r[i+u],t[e+c]);)u++,c++;if(u===a&&c===n)break t;p[s+l]=u}}var v=Array(s/2+f/2),g=v.length-1;for(s=m.length-1;0<=s;s--){for(;0<u&&0<c&&o(r[i+u-1],t[e+c-1]);)v[g--]=0,u--,c--;if(!s)break;h=s-1,d=s?m[s-1]:[0,0],(l=u-c)==-s||l!==s&&d[h+l-1]<d[h+l+1]?(c--,v[g--]=1):(u--,v[g--]=-1)}return v}(n,r,a,s,l,u,m)||function(t,e,n,r,i,a,o,s){var l=0,c=r<s?r:s,u=Array(c++),d=Array(c);d[0]=-1;for(var h=1;h<c;h++)d[h]=o;for(var m=new p,v=a;v<o;v++)m.set(i[v],v);for(var g=e;g<n;g++){var b=m.get(t[g]);null!=b&&-1<(l=f(d,c,b))&&(d[l]=b,u[l]={newi:g,oldi:b,prev:u[l-1]})}for(l=--c,--o;d[l]>o;)--l;c=s+r-l;var y=Array(c),x=u[l];for(--n;x;){for(var w=x,$=w.newi,S=w.oldi;$<n;)y[--c]=1,--n;for(;S<o;)y[--c]=-1,--o;y[--c]=0,--n,--o,x=x.prev}for(;e<=n;)y[--c]=1,--n;for(;a<=o;)y[--c]=-1,--o;return y}(n,r,i,a,s,l,c,u),t,e,n,r,s,l,h,v)}(a,t,n,y,b,S,e,g,v,$,m,i,h),n}var g={};
/*! (c) Andrea Giammarchi - ISC */function b(e,n){n=n||{};var r=t.createEvent("CustomEvent");return r.initCustomEvent(e,!!n.bubbles,!!n.cancelable,n.detail),r}g.CustomEvent="function"==typeof CustomEvent?CustomEvent:(b["prototype"]=new b("").constructor.prototype,b);var y=g.CustomEvent;function x(){return this}function w(t,e){var n="_"+t+"$";return{get:function(){return this[n]||$(this,n,e.call(this,t))},set:function(t){$(this,n,t)}}}var $=function(t,e,n){return Object.defineProperty(t,e,{configurable:!0,value:"function"==typeof n?function(){return t._wire$=n.apply(this,arguments)}:n})[e]};Object.defineProperties(x.prototype,{ELEMENT_NODE:{value:1},nodeType:{value:-1}});var S,A,M,N,k,E,C={},T={},z=[],I=T.hasOwnProperty,W=0,O={attributes:C,define:function(t,e){t.indexOf("-")<0?(t in T||(W=z.push(t)),T[t]=e):C[t]=e},invoke:function(t,e){for(var n=0;n<W;n++){var r=z[n];if(I.call(t,r))return T[r](t[r],e)}}},R=Array.isArray||(A=(S={}.toString).call([]),function(t){return S.call(t)===A}),L=(M=t,N="fragment",E="content"in j(k="template")?function(t){var e=j(k);return e.innerHTML=t,e.content}:function(t){var e=j(N),n=j(k),r=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(t)){var i=RegExp.$1;n.innerHTML="<table>"+t+"</table>",r=n.querySelectorAll(i)}else n.innerHTML=t,r=n.childNodes;return D(e,r),e},function(t,e){return("svg"===e?function(t){var e=j(N),n=j("div");return n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>",D(e,n.firstChild.childNodes),e}:E)(t)});function D(t,e){for(var n=e.length;n--;)t.appendChild(e[0])}function j(t){return t===N?M.createDocumentFragment():M.createElementNS("http://www.w3.org/1999/xhtml",t)}
/*! (c) Andrea Giammarchi - ISC */var _,P,H,F,U,B,G,V,Z,q=(P="appendChild",H="cloneNode",F="createTextNode",B=(U="importNode")in(_=t),(G=_.createDocumentFragment())[P](_[F]("g")),G[P](_[F]("")),(B?_[U](G,!0):G[H](!0)).childNodes.length<2?function t(e,n){for(var r=e[H](),i=e.childNodes||[],a=i.length,o=0;n&&o<a;o++)r[P](t(i[o],n));return r}:B?_[U]:function(t,e){return t[H](!!e)}),J="".trim||function(){return String(this).replace(/^\s+|\s+/g,"")},K="-"+Math.random().toFixed(6)+"%",Q=!1;try{V=t.createElement("template"),Z="tabindex","content"in V&&(V.innerHTML="<p "+Z+'="'+K+'"></p>',V.content.childNodes[0].getAttribute(Z)==K)||(K="_dt: "+K.slice(1,-1)+";",Q=!0)}catch(i){}var X="\x3c!--"+K+"--\x3e",Y=8,tt=1,et=3,nt=/^(?:style|textarea)$/i,rt=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,it=" \\f\\n\\r\\t",at="[^"+it+"\\/>\"'=]+",ot="["+it+"]+"+at,st="<([A-Za-z]+[A-Za-z0-9:._-]*)((?:",lt="(?:\\s*=\\s*(?:'[^']*?'|\"[^\"]*?\"|<[^>]*?>|"+at.replace("\\/","")+"))?)",ct=new RegExp(st+ot+lt+"+)(["+it+"]*/?>)","g"),ut=new RegExp(st+ot+lt+"*)(["+it+"]*/>)","g"),dt=new RegExp("("+ot+"\\s*=\\s*)(['\"]?)"+X+"\\2","gi");function pt(t,e,n,r){return"<"+e+n.replace(dt,ht)+r}function ht(t,e,n){return e+(n||'"')+K+(n||'"')}function ft(t,e,n){return rt.test(e)?t:"<"+e+n+"></"+e+">"}function mt(t,e){for(var n=e.length,r=0;r<n;)t=t.childNodes[e[r++]];return t}function vt(e,n,r,i){for(var a=new p,o=e.attributes,s=[],l=s.slice.call(o,0),c=l.length,u=0;u<c;){var d,h=l[u++],f=h.value===K;if(f||1<(d=h.value.split(X)).length){var m=h.name;if(!a.has(m)){var v=r.shift().replace(f?/^(?:|[\S\s]*?\s)(\S+?)\s*=\s*('|")?$/:new RegExp("^(?:|[\\S\\s]*?\\s)("+m+")\\s*=\\s*('|\")[\\S\\s]*","i"),"$1"),g=o[v]||o[v.toLowerCase()];if(a.set(m,g),f)n.push(gt(g,i,v,null));else{for(var b=d.length-2;b--;)r.shift();n.push(gt(g,i,v,d))}}s.push(h)}}for(var y=((u=0)<(c=s.length)&&Q&&!("ownerSVGElement"in e));u<c;){var x=s[u++];y&&(x.value=""),e.removeAttribute(x.name)}var w=e.nodeName;if(/^script$/i.test(w)){var $=t.createElement(w);for(c=o.length,u=0;u<c;)$.setAttributeNode(o[u++].cloneNode(!0));$.textContent=e.textContent,e.parentNode.replaceChild($,e)}}function gt(t,e,n,r){return{type:"attr",node:t,path:e,name:n,sparse:r}}function bt(t,e){return{type:"text",node:t,path:e}}var yt=new n,xt=new n;function wt(t,e){var n=(t.convert||
/*! (c) Andrea Giammarchi - ISC */
function(t){return t.join(X).replace(ut,ft).replace(ct,pt)})(e),r=t.transform;r&&(n=r(n));var i=L(n,t.type);!function(t){for(var e=t.childNodes,n=e.length;n--;){var r=e[n];1!==r.nodeType&&0===J.call(r.textContent).length&&t.removeChild(r)}}
/*! (c) Andrea Giammarchi - ISC */(i);var a=[];!function t(e,n,r,i){for(var a=e.childNodes,o=a.length,s=0;s<o;){var l=a[s];switch(l.nodeType){case tt:var c=i.concat(s);vt(l,n,r,c),t(l,n,r,c);break;case Y:var u=l.textContent;if(u===K)r.shift(),n.push(nt.test(e.nodeName)?bt(e,i):{type:"any",node:l,path:i.concat(s)});else switch(u.slice(0,2)){case"/*":if("*/"!==u.slice(-2))break;case"ðŸ‘»":e.removeChild(l),s--,o--}break;case et:nt.test(e.nodeName)&&J.call(l.textContent)===X&&(r.shift(),n.push(bt(e,i)))}s++}}(i,a,e.slice(0),[]);var o={content:i,updates:function(n){for(var r=[],i=a.length,o=0,s=0;o<i;){var l=a[o++],c=mt(n,l.path);switch(l.type){case"any":r.push({fn:t.any(c,[]),sparse:!1});break;case"attr":var u=l.sparse,d=t.attribute(c,l.name,l.node);null===u?r.push({fn:d,sparse:!1}):(s+=u.length-2,r.push({fn:d,sparse:!0,values:u}));break;case"text":r.push({fn:t.text(c),sparse:!1}),c.textContent=""}}return i+=s,function(){var t=arguments.length;if(i!==t-1)throw new Error(t-1+" values instead of "+i+"\n"+e.join("${value}"));for(var a=1,o=1;a<t;){var s=r[a-o];if(s.sparse){var l=s.values,c=l[0],u=1,d=l.length;for(o+=d-2;u<d;)c+=arguments[a++]+l[u++];s.fn(c)}else s.fn(arguments[a++])}return n}}};return yt.set(e,o),o}var $t,St,At=($t=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,St=/([^A-Z])([A-Z]+)/g,function(t,e){return"ownerSVGElement"in t?function(t,e){var n;return(n=e?e.cloneNode(!0):(t.setAttribute("style","--hyper:style;"),t.getAttributeNode("style"))).value="",t.setAttributeNode(n),Nt(n,!0)}(t,e):Nt(t.style,!1)});
/*! (c) Andrea Giammarchi - ISC */function Mt(t,e,n){return e+"-"+n.toLowerCase()}function Nt(t,e){var n,r;return function(i){var a,o,s,l;switch(typeof i){case"object":if(i){if("object"===n){if(!e&&r!==i)for(o in r)o in i||(t[o]="")}else e?t.value="":t.cssText="";for(o in a=e?{}:t,i)s="number"!=typeof(l=i[o])||$t.test(o)?l:l+"px",!e&&/^--/.test(o)?a.setProperty(o,s):a[o]=s;n="object",e?t.value=function(t){var e,n=[];for(e in t)n.push(e.replace(St,Mt),":",t[e],";");return n.join("")}(r=a):r=i;break}default:r!=i&&(n="string",r=i,e?t.value=i||"":t.cssText=i||"")}}}var kt,Et,Ct=(kt=[].slice,(Et=Tt.prototype).ELEMENT_NODE=1,Et.nodeType=111,Et.remove=function(t){var e=this.childNodes,n=this.firstChild,r=this.lastChild;if(this._=null,t&&2===e.length)r.parentNode.removeChild(r);else{var i=this.ownerDocument.createRange();i.setStartBefore(t?e[1]:n),i.setEndAfter(r),i.deleteContents()}return n},Et.valueOf=function(t){var e=this._,n=null==e;if(n&&(e=this._=this.ownerDocument.createDocumentFragment()),n||t)for(var r=this.childNodes,i=0,a=r.length;i<a;i++)e.appendChild(r[i]);return e},Tt);function Tt(t){var e=this.childNodes=kt.call(t,0);this.firstChild=e[0],this.lastChild=e[e.length-1],this.ownerDocument=e[0].ownerDocument,this._=null}function zt(t){return{html:t}}function It(t,e){switch(t.nodeType){case Ft:return 1/e<0?e?t.remove(!0):t.lastChild:e?t.valueOf(!0):t.firstChild;case Ht:return It(t.render(),e);default:return t}}function Wt(t,e){e(t.placeholder),"text"in t?Promise.resolve(t.text).then(String).then(e):"any"in t?Promise.resolve(t.any).then(e):"html"in t?Promise.resolve(t.html).then(zt).then(e):Promise.resolve(O.invoke(t,e)).then(e)}function Ot(t){return null!=t&&"then"in t}var Rt,Lt,Dt,jt,_t,Pt="ownerSVGElement",Ht=x.prototype.nodeType,Ft=Ct.prototype.nodeType,Ut=(Lt=(Rt={Event:y,WeakSet:i}).Event,Dt=Rt.WeakSet,jt=!0,_t=null,function(t){return jt&&(jt=!jt,_t=new Dt,function(t){var e=new Dt,n=new Dt;try{new MutationObserver(o).observe(t,{subtree:!0,childList:!0})}catch(e){var r=0,i=[],a=function(t){i.push(t),clearTimeout(r),r=setTimeout((function(){o(i.splice(r=0,i.length))}),0)};t.addEventListener("DOMNodeRemoved",(function(t){a({addedNodes:[],removedNodes:[t.target]})}),!0),t.addEventListener("DOMNodeInserted",(function(t){a({addedNodes:[t.target],removedNodes:[]})}),!0)}function o(t){for(var r,i=t.length,a=0;a<i;a++)s((r=t[a]).removedNodes,"disconnected",n,e),s(r.addedNodes,"connected",e,n)}function s(t,e,n,r){for(var i,a=new Lt(e),o=t.length,s=0;s<o;1===(i=t[s++]).nodeType&&l(i,a,e,n,r));}function l(t,e,n,r,i){_t.has(t)&&!r.has(t)&&(i.delete(t),r.add(t),t.dispatchEvent(e));for(var a=t.children||[],o=a.length,s=0;s<o;l(a[s++],e,n,r,i));}}(t.ownerDocument)),_t.add(t),t}),Bt=/^(?:form|list)$/i,Gt=[].slice;function Vt(e){return this.type=e,function(e){return function(n){var r=xt.get(e);return null!=r&&r.template===n||(r=function(e,n){var r=yt.get(n)||wt(e,n),i=q.call(t,r.content,!0),a={content:i,template:n,updates:r.updates(i)};return xt.set(e,a),a}(e,n)),r.updates.apply(null,arguments),r.content}}(this)}var Zt=!(Vt.prototype={attribute:function(t,e,n){var r,i=Pt in t;if("style"===e)return At(t,n,i);if(/^on/.test(e)){var a=e.slice(2);return"connected"===a||"disconnected"===a?Ut(t):e.toLowerCase()in t&&(a=a.toLowerCase()),function(e){r!==e&&(r&&t.removeEventListener(a,r,!1),(r=e)&&t.addEventListener(a,e,!1))}}if("data"===e||!i&&e in t&&!Bt.test(e))return function(n){r!==n&&(r=n,t[e]!==n&&null==n?(t[e]="",t.removeAttribute(e)):t[e]=n)};if(e in O.attributes)return function(n){var i=O.attributes[e](t,n);r!==i&&(null==(r=i)?t.removeAttribute(e):t.setAttribute(e,i))};var o=!1,s=n.cloneNode(!0);return function(e){r!==e&&(r=e,s.value!==e&&(null==e?(o&&(o=!1,t.removeAttributeNode(s)),s.value=e):(s.value=e,o||(o=!0,t.setAttributeNode(s)))))}},any:function(t,e){var n,r={node:It,before:t},i=Pt in t?"svg":"html",a=!1;return function o(s){switch(typeof s){case"string":case"number":case"boolean":a?n!==s&&(n=s,e[0].textContent=s):(a=!0,n=s,e=v(t.parentNode,e,[function(t,e){return t.ownerDocument.createTextNode(e)}(t,s)],r));break;case"function":o(s(t));break;case"object":case"undefined":if(null==s){a=!1,e=v(t.parentNode,e,[],r);break}default:if(a=!1,R(n=s))if(0===s.length)e.length&&(e=v(t.parentNode,e,[],r));else switch(typeof s[0]){case"string":case"number":case"boolean":o({html:s});break;case"object":if(R(s[0])&&(s=s.concat.apply([],s)),Ot(s[0])){Promise.all(s).then(o);break}default:e=v(t.parentNode,e,s,r)}else!function(t){return"ELEMENT_NODE"in t}(s)?Ot(s)?s.then(o):"placeholder"in s?Wt(s,o):"text"in s?o(String(s.text)):"any"in s?o(s.any):"html"in s?e=v(t.parentNode,e,Gt.call(L([].concat(s.html).join(""),i).childNodes),r):o("length"in s?Gt.call(s):O.invoke(s,o)):e=v(t.parentNode,e,11===s.nodeType?Gt.call(s.childNodes):[s],r)}}},text:function(t){var e;return function n(r){if(e!==r){var i=typeof(e=r);"object"==i&&r?Ot(r)?r.then(n):"placeholder"in r?Wt(r,n):n("text"in r?String(r.text):"any"in r?r.any:"html"in r?[].concat(r.html).join(""):"length"in r?Gt.call(r).join(""):O.invoke(r,n)):"function"==i?n(r(t)):t.textContent=null==r?"":r}}}}),qt=function(e){var r,i=(r=(t.defaultView.navigator||{}).userAgent,/(Firefox|Safari)\/(\d+)/.test(r)&&!/(Chrom[eium]+|Android)\/(\d+)/.test(r)),a=!("raw"in e)||e.propertyIsEnumerable("raw")||!Object.isFrozen(e.raw);if(i||a){var o={},s=function(t){for(var e=".",n=0;n<t.length;n++)e+=t[n].length+"."+t[n];return o[e]||(o[e]=t)};if(a)qt=s;else{var l=new n;qt=function(t){return l.get(t)||function(t,e){return l.set(t,e),e}(t,s(t))}}}else Zt=!0;return Jt(e)};function Jt(t){return Zt?t:qt(t)}function Kt(t){for(var e=arguments.length,n=[Jt(t)],r=1;r<e;)n.push(arguments[r++]);return n}var Qt=new n,Xt=function(t){var e,n,r;return function(){var i=Kt.apply(null,arguments);return r!==i[0]?(r=i[0],n=new Vt(t),e=te(n.apply(n,i))):n.apply(n,i),e}},Yt=function(t,e){var n=e.indexOf(":"),r=Qt.get(t),i=e;return-1<n&&(i=e.slice(n+1),e=e.slice(0,n)||"html"),r||Qt.set(t,r={}),r[i]||(r[i]=Xt(e))},te=function(t){var e=t.childNodes,n=e.length;return 1===n?e[0]:n?new Ct(e):t},ee=new n;function ne(){var t=ee.get(this),e=Kt.apply(null,arguments);return t&&t.template===e[0]?t.tagger.apply(null,e):function(t){var e=new Vt(Pt in this?"svg":"html");ee.set(this,{tagger:e,template:t}),this.textContent="",this.appendChild(e.apply(null,arguments))}
/*! (c) Andrea Giammarchi (ISC) */.apply(this,e),this}var re,ie,ae,oe,se=O.define,le=Vt.prototype;function ce(t){return arguments.length<2?null==t?Xt("html"):"string"==typeof t?ce.wire(null,t):"raw"in t?Xt("html")(t):"nodeType"in t?ce.bind(t):Yt(t,"html"):("raw"in t?Xt("html"):ce.wire).apply(null,arguments)}return ce.Component=x,ce.bind=function(t){return ne.bind(t)},ce.define=se,ce.diff=v,(ce.hyper=ce).observe=Ut,ce.tagger=le,ce.wire=function(t,e){return null==t?Xt(e||"html"):Yt(t,e||"html")},ce._={WeakMap:n,WeakSet:i},re=Xt,ie=new n,ae=Object.create,oe=function(t,e){var n={w:null,p:null};return e.set(t,n),n},Object.defineProperties(x,{for:{configurable:!0,value:function(t,e){return function(t,e,r,i){var a=e.get(t)||oe(t,e);switch(typeof i){case"object":case"function":var o=a.w||(a.w=new n);return o.get(i)||function(t,e,n){return t.set(e,n),n}(o,i,new t(r));default:var s=a.p||(a.p=ae(null));return s[i]||(s[i]=new t(r))}}(this,ie.get(t)||function(t){var e=new p;return ie.set(t,e),e}(t),t,null==e?"default":e)}}}),Object.defineProperties(x.prototype,{handleEvent:{value:function(t){var e=t.currentTarget;this["getAttribute"in e&&e.getAttribute("data-call")||"on"+t.type](t)}},html:w("html",re),svg:w("svg",re),state:w("state",(function(){return this.defaultState})),defaultState:{get:function(){return{}}},dispatch:{value:function(t,e){var n=this._wire$;if(n){var r=new y(t,{bubbles:!0,cancelable:!0,detail:e});return r.component=this,(n.dispatchEvent?n:n.firstChild).dispatchEvent(r)}return!1}},setState:{value:function(t,e){var n=this.state,r="function"==typeof t?t.call(this,n):t;for(var i in r)n[i]=r[i];return!1!==e&&this.render(),this}}}),ce}(document);const{Component:e,bind:n,define:r,diff:i,hyper:a,wire:o}=t;var s={hyperhtml:{bind:n,wire:o},globals:{Date:Date,window:window,setTimeout:setTimeout}};const{Date:l,setTimeout:c}=s.globals,u=(t,e)=>{const n=l.now(),r=t();c(()=>{const t=l.now()<n+1e3/60?e+1:Math.max(e-1,1);u(r,t)},e)},{wire:d}=s.hyperhtml;var p=(t,e)=>{const n=e(d({}));let r=t;return{render:()=>n(r),update:t=>{r={...r,...t(r)},n(r)}}},h=t=>{let e=t;const n=new Map;return{next:t=>{e=t(e),n.forEach(t=>t(e))},subscribe:t=>{t(e);const r={};return n.set(r,t),r},unsubscribe:t=>n.delete(t)}};const{window:f}=s.globals,m=()=>({width:f.innerWidth,height:f.innerHeight}),v=h(m());f.addEventListener("resize",()=>v.next(m));const g=h(Array(10).fill(0)),{wire:b}=s.hyperhtml;var y=()=>{const t={tape:[...Array(10)].map(()=>Math.round(Math.random())),style:{},cellWidth:0},e=[...Array(10)].map(()=>b({}));return p(t,t=>({tape:n,style:r,cellWidth:i})=>{const a={width:`${10*i}px`,height:`${i}px`,...r};return t`<div style=${a}>${n.map((t,n)=>{const r=255*t,a=255-r,o={display:"inline-block",width:`${i}px`,height:`${i}px`,lineHeight:`${i}px`,fontSize:`${i}px`,textAlign:"center",backgroundColor:`rgb(${r},${r},${r})`,color:`rgb(${a},${a},${a})`};return e[n]`<div style=${o}>${t<.5?0:1}</div>`})}</div>`})};const x=y(),w=p({position:0},t=>({position:e,cellWidth:n})=>{const r={position:"absolute",top:"30%",left:"50%",transform:`translate(${n*(-.5-e)}px, 0)`};return x.update(()=>({cellWidth:n})),t`<div style=${r}>${x.render()}</div>`});v.subscribe(({width:t,height:e})=>{const n=Math.min(.15*t,.3*e);w.update(()=>({cellWidth:n}))}),g.subscribe(t=>x.update(()=>({tape:t})));const $=p({state:0,cellWidth:0},t=>({state:e,cellWidth:n})=>{const r=n/16,i={position:"absolute",top:"30%",left:"50%",transform:`translate(-${n/2+r}px, 0)`},a={position:"absolute",height:`${n}px`,background:"radial-gradient(#aaa, #666)"},o={...a,width:`${2*r}px`,borderRadius:`${r}px ${r}px 0 0`},s={...a,top:`${n}px`,width:`${n+2*r}px`,borderRadius:`0 0 ${r}px ${r}px`,fontSize:.8*n,lineHeight:`${n}px`,textAlign:"center",color:"white"};return t`<div style=${i}>
    <div style=${o} />
    <div style=${{...o,left:n}} />
    <div style=${s}>${(t=>"E01234AH"[t+1])(e)}</div>
  </div>`});v.subscribe(({width:t,height:e})=>{const n=Math.min(.15*t,.3*e);$.update(()=>({cellWidth:n}))});const S=y(),A=y(),M=t=>S.update(()=>({tape:t})),N={position:"absolute",top:"3%",width:"100%",fontFamily:"serif",color:"white"},k=p({fontSize:10},t=>({fontSize:e})=>t`<div style=${N}>
  <table style=${(t=>({margin:"0 auto",fontSize:`${t}px`,lineHeight:`${t}px`}))(e)}>
    <tr><td>ORDER:</td><td>${S.render()}</td></tr>
    <tr><td>TAPE:</td><td>${A.render()}</td></tr>
  </table>
</div>`);v.subscribe(({width:t,height:e})=>{const n=Math.min(.05*t,.07*e);k.update(()=>({fontSize:.6*n})),S.update(()=>({cellWidth:n})),A.update(()=>({cellWidth:n}))}),g.subscribe(t=>A.update(()=>({tape:t})));const E=t=>[...t.toString()].reduceRight(([t,e],n)=>3===t.length?[n,`,${t}${e}`]:[`${n}${t}`,e],["",""]).join``,C=t=>(100*t|0).toString().padStart(4,"0").replace(/^(..)(..)/,"$1.$2"),T=p({number:1,timeLeft:0,score:0,fontSize:0},t=>({number:e,timeLeft:n,score:r,fontSize:i})=>t`
  <div style=${(t=>({position:"absolute",top:"1%",left:"1%",fontSize:`${t}px`,color:"white",fontFamily:"serif"}))(i)}>No.${e}<br>${C(n)}</div>
  <div style=${(t=>({position:"absolute",bottom:"1%",left:"1%",fontSize:`${t}px`,color:"white",fontFamily:"serif"}))(i)}>Score: ${E(r)}</div>
`);v.subscribe(({width:t,height:e})=>{T.update(()=>({fontSize:.6*Math.min(.05*t,.07*e)}))});const z=[...Array(10)].map((t,e)=>({direction:1,nextChar:1&e,nextState:e>>1})),I=h(z),W=(t,e)=>I.next(n=>[...n.slice(0,t),e(n[t]),...n.slice(t+1)]),O=h([]),R=t=>O.next(e=>[...e,t]),L=()=>{let t;return O.next(([e,...n])=>(t=e,n)),t},D={},j={},_={},P={},H={},F={display:"inline-block",margin:"1% 1%",textAlign:"center",whiteSpace:"nowrap"},U=["0","1","2","3","4","A"];var B=t=>p(((t,e)=>({state0:t,char0:e,direction:1,char1:e,state1:t,disabled:!1}))(t>>1,0&t),e=>({state0:n,char0:r,direction:i,char1:a,state1:o,disabled:s})=>e`<div style=${F}>${`<${n},${r},`}<button onclick=${((t,e)=>()=>{W(t,t=>({...t,direction:-e}))})(t,i)} disabled=${s}>${(t=>t<0?"L":"R")(i)}</button>${","}<button onclick=${((t,e)=>()=>{W(t,t=>({...t,nextChar:1-e}))})(t,a)} disabled=${s}>${a}</button>${","}<button onclick=${((t,e)=>()=>{W(t,t=>({...t,nextState:(e+1)%6}))})(t,o)} disabled=${s}>${U[o]}</button>${">"}</div>`);const G=[...Array(10)].map((t,e)=>B(e)),V={marginBottom:"10px"},Z=p({fontSize:0,style:{display:"none"},disabled:!0},(({onClickRunButton:t})=>e=>({fontSize:n,style:r,disabled:i})=>(G.forEach(t=>t.update(()=>({disabled:i}))),e`<div style=${((t,e)=>({position:"absolute",top:"29%",left:"50%",transform:"translate(-50%, 0)",width:20*t,padding:"5px 0 10px 0",textAlign:"center",fontSize:`${t}px`,lineHeight:`${t}px`,border:"1px solid #999",backgroundColor:"rgba(51, 51, 153, 0.8)",color:"white",fontFamily:"Courier New",...e}))(n,r)}>
    <span style=${V}>Program</span>
    <div>${G.map(t=>t.render())}</div>
    <button
      style=${(t=>{const e=`${1.3*t}px`;return{height:e,marginTop:"0.1em",padding:"0 1em",fontSize:e,lineHeight:e,borderRadius:`${.15*t}px`}})(n)}
      disabled=${i}
      onclick=${t}>RUN</button>
  </div>`))({onClickRunButton:()=>{R(P),Z.update(()=>({disabled:!0}))}}));v.subscribe(({width:t,height:e})=>{Z.update(()=>({fontSize:Math.min(.04*t,.06*e)}))}),I.subscribe(t=>{t.forEach(({direction:t,nextChar:e,nextState:n},r)=>G[r].update(()=>({state0:r>>1,char0:1&r,direction:t,char1:e,state1:n})))});const q={display:"table-cell",position:"absolute",top:"19%",width:"100%",height:"10%",textAlign:"center",verticalAlign:"middle",fontFamily:"Courier New"},J=(t,e)=>({margin:`${(e-t)/2}px 0.5em`,width:`${5*t}px`,height:`${t}px`,fontSize:`${t}px`,borderRadius:.15*t}),K=()=>R(D),Q=()=>R(j),X=()=>R(_),Y=p({running:!1,disabled:!0,fontSize:0,height:0},t=>({running:e,disabled:n,fontSize:r,height:i})=>t`<div style=${q}>
  <button
    style=${J(r,i)}
    onclick=${e?Q:K}
    disabled=${n}>${e?"HALT":"RESET"}</button>
  <button
    style=${J(r,i)}
    onclick=${X}
    disabled=${n}>PASS</button>
</div>`);v.subscribe(({width:t,height:e})=>{Y.update(()=>({fontSize:Math.min(.05*t,.065*e),height:.1*e}))});const tt=()=>R(H);var et=p({opacity:0},t=>({opacity:e})=>t`<div style=${(t=>({display:0===t?"none":"block",position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:t}))(e)} onclick=${tt}></div>`);const nt={pass:{},solved:{},timeup:{}},rt={type:nt.pass,commandsSaved:0,accepted:!1,steps:0,timeLeft:0,opacity:0,fontSize:0},it=new Map([[nt.pass,"#ccc"],[nt.solved,"#cfc"],[nt.timeup,"#ccf"]]),at=new Map([[nt.pass,"Pass"],[nt.solved,"Solved!"],[nt.timeup,"Time's up."]]),ot=(t,e,n,r)=>100*(t+(e?1:0))*n*.1*(r/32)*3|0,st=p(rt,t=>({type:e,commandsSaved:n,accepted:r,steps:i,timeLeft:a,opacity:o,fontSize:s})=>t`<div style=${(t=>({display:0===t?"none":"block",position:"absolute",top:"10%",width:"100%",textAlign:"center",color:"white",opacity:t,filter:"drop-shadow(0 0 0.3rem black)"}))(o)}>
  <div style=${((t,e)=>({color:it.get(t),fontSize:`${e}px`}))(e,1.3*s)}>${at.get(e)}</div>
  <table style=${(t=>({display:"inline-block",margin:`${t}px 0`,fontSize:`${t}px`,color:"white"}))(s)}>
    <tr>
      <td>Saved + accepted</td>
      <td />
      <td>Steps</td>
      <td />
      <td>Time left</td>
    </tr>
    <tr>
      <td>((${n} + ${r?1:0}) &times; 100)</td>
      <td>&times;</td>
      <td>(${i} &times; 0.1)</td>
      <td>&times;</td>
      <td>(${C(a)} / ${32}.00 &times; 3)</td>
    </tr>
  </table>
  <div style=${(t=>({fontSize:t}))(s)}>Score: +${E(ot(n,r,i,a))}</div>
</div>`);v.subscribe(({width:t,height:e})=>{st.update(()=>({fontSize:Math.min(.04*t,.06*e)}))});const lt={finished:!1,order:Array(10).fill(0),tape:Array(10).fill(0),score:0,opacity:0,fontSize:0},ct=y(),ut=y(),dt={display:"inline-block"};[ct,ut].forEach(t=>t.update(()=>({style:dt})));const pt=p(lt,t=>({finished:e,caseNumber:n,order:r,tape:i,score:a,opacity:o,fontSize:s})=>(ct.update(()=>({tape:r,cellWidth:s})),ut.update(()=>({tape:i,cellWidth:s})),t`<div style=${((t,e)=>({display:0===t?"none":"block",position:"absolute",top:"10%",width:"100%",fontSize:`${e}px`,lineHeight:`${e}px`,textAlign:"center",color:"white",opacity:t,filter:"drop-shadow(0 0 0.3rem black)"}))(o,s)}>
    <div style=${((t,e)=>({marginBottom:`${e}px`,fontSize:`${e}px`,color:t?"#fc9":"#c99"}))(e,1.3*s)}>${e?"Finished!":"Game Over"}</div>
    <div style=${{display:e?"none":"block"}}>${e?"":`at No.${n}`}</div>
    ${e?"":ct.render()}<br>${e?"":ut.render()}<br>
    <div style=${(t=>({fontSize:`${t}px`,marginTop:`${t}px`}))(s)}>Total score: ${E(a)}</div>
  </div>`));v.subscribe(({width:t,height:e})=>{pt.update(()=>({fontSize:Math.min(.04*t,.06*e)}))});const ht=p({opacity:0,fontSize:0},t=>({opacity:e,fontSize:n})=>t`<div style=${((t,e)=>({display:0===t?"none":"block",position:"absolute",width:"100%",top:"30%",fontSize:`${e}px`,textAlign:"center",color:"white",opacity:t}))(e,n)}>
    <div style=${(t=>({fontSize:`${t}px`,color:"orange"}))(2*n)}>TMP</div>
  </div>`);v.subscribe(({width:t,height:e})=>{ht.update(()=>({fontSize:Math.min(.04*t,.6*e)}))});var ft={title:{title:{}},main:{programWindowOpening:{},programming:{},programWindowClosing:{},running:{}},result:{caseResult:{},totalResult:{}}};const{Date:mt}=s.globals,vt=({startedAt:t})=>{const e=Math.max(32-(mt.now()-t)/1e3,0);T.update(()=>({timeLeft:e}))},gt=(t,e)=>{const n=e-t,r=.2*n;return 1/15<Math.abs(r)?t+r:t+Math.min(Math.max(-1/15,n),1/15)},bt=({currentTape:t,position:e})=>{(t=>{g.next(e=>e.map((e,n)=>{const r=t[n];return e===r?e:Math.min(Math.max(e-1/15,r),e+1/15)}))})(t),w.update(({position:t})=>({position:gt(t,e)}))},yt=(t,e)=>{const n=Math.max(50*(1-t/20),0),r=Math.min(50*(1+t/20),100),i=Math.min(87*Math.max((t-30)/10,0)+13,100),a=`polygon(${n}% 0, ${r}% 0, ${r}% ${i}%, ${n}% ${i}%)`;Z.update(()=>({style:{clipPath:a},disabled:e}))},{Date:xt}=s.globals;var wt=(t=0)=>({order:e,currentTape:n,position:r,machineState:i})=>{if(0===t)return M(e),et.update(()=>({opacity:1})),{nextId:ft.title.title,nextArgs:[1],stateUpdate:{position:0,machineState:0,order:[...Array(10)].map(()=>Math.round(Math.random())),currentTape:[...Array(10)].map(()=>Math.round(Math.random()))}};if(bt({currentTape:n,position:r}),$.update(()=>({state:i})),t<30)return ht.update(()=>({opacity:t/30})),{nextId:ft.title.title,nextArgs:[t+1]};if(30===t)return{nextId:ft.title.title,nextArgs:[L()===H?31:30]};if(t<50){const e=(50-t)/20;return ht.update(()=>({opacity:e})),et.update(()=>({opacity:e})),{nextId:ft.title.title,nextArgs:[t+1]}}ht.update(()=>({opacity:0})),et.update(()=>({opacity:0})),I.next(()=>z);const a=[...Array(10)].map(()=>Math.round(Math.random()));return{nextId:ft.main.programWindowOpening,nextArgs:[0],stateUpdate:{order:[...Array(10)].map(()=>Math.round(Math.random())),originalTape:a,currentTape:a,position:0,machinState:0,startedAt:xt.now()}}};const $t=(t,e,n)=>({type:t,time:0,accepted:e,timeLeft:n}),St=(t,e)=>(6*t+e)/7|0,At=(t,e)=>Math.max(32-(t-e)/1e3,0);let Mt=z;I.subscribe(t=>{Mt=t});const Nt=({currentTape:t,position:e,machineState:n,steps:r,executedIndices:i})=>{const a=n<<1|t[e],{direction:o,nextChar:s,nextState:l}=Mt[a];return{currentTape:[...t.slice(0,e),s,...t.slice(e+1)],position:e+o,machineState:l,steps:r+1,executedIndices:new Set([...i,a])}},{Date:kt}=s.globals,Et=new Map([[ft.title.title,wt],[ft.main.programWindowOpening,t=>e=>{M(e.order);const n=t<45;return yt(t,n),bt(e),Y.update(()=>({running:!1,disabled:n})),vt(e),n?{nextId:ft.main.programWindowOpening,nextArgs:[t+1]}:{nextId:ft.main.programming,nextArgs:[]}}],[ft.main.programming,()=>t=>{bt(t),vt(t);const e=L();return e===P?($.update(()=>({state:0})),{nextId:ft.main.programWindowClosing,nextArgs:[45],stateUpdate:{currentTape:t.originalTape,machineState:0,position:0,runAt:Date.now()}}):(e===D&&I.next(()=>z),e===_?{nextId:ft.result.caseResult,nextArgs:[$t(nt.pass,!1,At(Date.now(),t.startedAt))],stateUpdate:{steps:0}}:{nextId:ft.main.programming,nextArgs:[],stateUpdate:e===D?{currentTape:t.originalTape,machineState:0,position:0}:{}})}],[ft.main.programWindowClosing,t=>e=>(yt(t,!0),bt(e),Y.update(()=>({running:0===t,disabled:t>0})),0===t?{nextId:ft.main.running,nextArgs:[0],stateUpdate:{steps:0,executedIndices:new Set}}:{nextId:ft.main.programWindowClosing,nextArgs:[t-1]})],[ft.main.running,t=>e=>{const{position:n,machineState:r,startedAt:i,runAt:a,order:o,currentTape:s}=e;if(L()===j)return $.update(()=>({state:6})),At(Date.now(),i)>0?{nextId:ft.main.programWindowOpening,nextArgs:[0]}:{nextId:ft.result.totalResult,nextArgs:[!1,0]};bt(e);const l=n<0||n>=10?-1:r;if([-1,5].includes(l)&&30===t){if($.update(()=>({state:l})),o.join``===s.join``){const t=At(a,i),e=t>0?nt.solved:nt.timeup;return{nextId:ft.result.caseResult,nextArgs:[$t(e,5===l,t)]}}return At(Date.now(),i)>0?{nextId:ft.main.programWindowOpening,nextArgs:[0],stateUpdate:{machineState:l}}:{nextId:ft.result.totalResult,nextArgs:[!1,0]}}return $.update(()=>({state:r})),{nextId:ft.main.running,nextArgs:[30===t?0:t+1],stateUpdate:0===t?Nt(e):{}}}],[ft.result.caseResult,t=>({executedIndices:e,steps:n,caseNumber:r,score:i})=>{const{time:a,type:o,accepted:s,timeLeft:l}=t;et.update(()=>({opacity:Math.min(a/10,1)})),st.update(()=>({opacity:Math.min(Math.max(0,(a-10)/30),1)})),0===a&&st.update(()=>({type:o,commandsSaved:10-e.size,accepted:s,steps:n,timeLeft:l})),T.update(({score:t})=>({score:40===a?i:St(t,i)}));const c=L();if(a>=40&&c===H){if(st.update(()=>({opacity:0})),32===r)return{nextId:ft.result.totalResult,nextArgs:[!0,0]};const t=r+1;T.update(()=>({number:t}));const e=[...Array(10)].map(()=>Math.random()<.5?1:0);return et.update(()=>({opacity:0})),I.next(()=>z),$.update(()=>({state:0})),{nextId:ft.main.programWindowOpening,nextArgs:[0],stateUpdate:{caseNumber:t,order:[...Array(10)].map(()=>Math.random()<.5?1:0),originalTape:e,currentTape:e,position:0,machineState:0,startedAt:Date.now()}}}return{nextId:ft.result.caseResult,nextArgs:[{...t,time:a+1}],stateUpdate:0===a?{score:i+ot(10-e.size,s,n,l)}:{}}}],[ft.result.totalResult,(t,e)=>({order:n,originalTape:r,score:i,caseNumber:a})=>{const o=L();return e<=40?(et.update(()=>({opacity:Math.min(e/10,1)})),pt.update(()=>({opacity:Math.max(0,(e-10)/30),finished:t,score:i,caseNumber:a,order:n,tape:r})),{nextId:ft.result.totalResult,nextArgs:[t,e+1]}):41===e?{nextId:ft.result.totalResult,nextArgs:[t,o===H?42:41]}:e<=61?(pt.update(()=>({opacity:(61-e)/20})),{nextId:ft.result.totalResult,nextArgs:[t,e+1]}):{nextId:ft.title.title,nextArgs:[0]}}]]),Ct=(t,e)=>()=>{const{nextId:n,nextArgs:r,stateUpdate:i}=t(e);return Ct(Et.get(n)(...r),{...e,...i})},{bind:Tt}=s.hyperhtml;Tt(document.getElementById("root"))`${[T,k,w,$,Y,Z,et,st,pt,ht].map(t=>t.render())}`;const zt=[...Array(10)].map(()=>Math.round(Math.random())),It=[...Array(10)].map(()=>Math.round(Math.random()));u(Ct(wt(0),((t,e)=>({score:0,caseNumber:1,order:t,originalTape:e,currentTape:e,position:0,machineState:0,startedAt:kt.now(),runAt:null,steps:0,executedIndices:new Set}))(zt,It)),1e3/60)}();
